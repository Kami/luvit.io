<!doctype html>
<html>
  <head>
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="/bootstrap-1.4.0.min.css" />
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="/google-code-prettify/prettify.css" />
    <script type="text/javascript" src="/google-code-prettify/prettify.js"></script>
    <title>Luvit</title>
  </head>
  <body onload="prettyPrint()">
    <a href="http://github.com/luvit/luvit">
      <img id="githubRibbon" src="https://a248.e.akamai.net/assets.github.com/img/7afbc8b248c68eb468279e8c17986ad46549fb71/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" />
    </a>

    <div class="container">
      <div class="hero-unit">
        <h1>Luvit</h1>
        <h2>asynchronous I/O for Lua</h2>
        <p>Making node.js and Lua best friends ever.</p>
      </div>

      <article id="installation" class="row">
        <div class="span16">
          <h1>Installation</h1>
          <p>
            It's easy! You can install Luvit just like you'd install any
            other Unix application:
          </p>
          <pre>
$ git clone https://github.com/luvit/luvit.git
$ cd luvit
$ make
$ make install</pre>
        </div>
      </article>

      <article id="examples" class="row">
        <div class="span16"><h1>Code samples</h1></div>
        <div class="row">
          <section class="span8">
            <p id="httpServer">HTTP server</p>
            <pre class="prettyprint">
  local HTTP = require("http")
  local Utils = require("utils")

  HTTP.create_server("0.0.0.0", 8080, function (req, res)
    local body = Utils.dump({req=req,headers=req.headers}) .. "\n"
    res:write_head(200, {
      ["Content-Type"] = "text/plain",
      ["Content-Length"] = #body
    })
    res:finish(body)
  end)

  print("Server listening at http://localhost:8080/")
            </pre>
          </section>
          <section class="span8">
            <p id="httpClient">HTML client</p>
            <pre class="prettyprint">
  local HTTP = require('http')

  HTTP.request({
    host = "127.0.0.1",
    port = 8080,
    path = "/"
  }, function (res)
    res:on('data', function (chunk)
      print("Got some data:")
      print(chunk)
    end)
    res:on("end", function ()
      res:close()
    end)
  end)
            </pre>
          </section>
        </div>

        <div class="row">
          <section class="span8">
            <p id="tcpEchoServer">TCP echo server</p>
            <pre class="prettyprint">
  local TCP = require('tcp')

  local server = TCP.create_server("0.0.0.0", 8080, function (client)
    print("Adding listener for data events")
    client:on("data", function (chunk)
      print("Sending chunk back to client")
      client:write(chunk)
    end)
  end)

  print("TCP echo server listening on port 8080")
            </pre>
          </section>
          <section class="span8">
            <p id="tcpEchoClient">TCP echo client</p>
            <pre class="prettyprint">
            </pre>
          </section>
        </div>
      </article>
    </div>
  </body>
</html>

